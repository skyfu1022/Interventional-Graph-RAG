# ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“ä¸´åºŠåœºæ™¯ç¤ºä¾‹

## ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [åœºæ™¯ä¸€ï¼šCAS æœ¯å‰è¯„ä¼°](#åœºæ™¯ä¸€cas-æœ¯å‰è¯„ä¼°)
- [åœºæ™¯äºŒï¼šPCI å¤æ‚ç—…å˜å¤„ç†](#åœºæ™¯äºŒ-pci-å¤æ‚ç—…å˜å¤„ç†)
- [åœºæ™¯ä¸‰ï¼šå¹¶å‘ç—‡åº”æ€¥å¤„ç†](#åœºæ™¯ä¸‰-å¹¶å‘ç—‡åº”æ€¥å¤„ç†)
- [åœºæ™¯å››ï¼šå¤šå­¦ç§‘ä¼šè¯Šæ”¯æŒ](#åœºæ™¯å››å¤šå­¦ç§‘ä¼šè¯Šæ”¯æŒ)
- [åœºæ™¯äº”ï¼šå™¨æ¢°é€‰æ‹©ä¼˜åŒ–](#åœºæ™¯äº”å™¨æ¢°é€‰æ‹©ä¼˜åŒ–)
- [åœºæ™¯å…­ï¼šæœ¯åç®¡ç†è®¡åˆ’](#åœºæ™¯å…­æœ¯åç®¡ç†è®¡åˆ’)
- [åœºæ™¯ä¸ƒï¼šæ‰¹é‡æ‚£è€…è¯„ä¼°](#åœºæ™¯ä¸ƒæ‰¹é‡æ‚£è€…è¯„ä¼°)
- [åœºæ™¯å…«ï¼šä¸´åºŠç ”ç©¶æ”¯æŒ](#åœºæ™¯å…«ä¸´åºŠç ”ç©¶æ”¯æŒ)

## ç®€ä»‹

æœ¬æ–‡æ¡£æä¾›äº†ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“åœ¨çœŸå®ä¸´åºŠåœºæ™¯ä¸­çš„åº”ç”¨ç¤ºä¾‹ã€‚æ¯ä¸ªåœºæ™¯éƒ½åŒ…å«å®Œæ•´çš„æ‚£è€…ä¿¡æ¯ã€ç³»ç»Ÿè¾“å‡ºå’Œä¸´åºŠè§£è¯»ã€‚

### ä¸´åºŠåœºæ™¯è¦†ç›–

- âœ… **CAS (é¢ˆåŠ¨è„‰æ”¯æ¶æ¤å…¥æœ¯)**ï¼šç—‡çŠ¶æ€§å’Œæ— ç—‡çŠ¶æ€§é¢ˆåŠ¨è„‰ç‹­çª„
- âœ… **PCI (ç»çš®å† çŠ¶åŠ¨è„‰ä»‹å…¥)**ï¼šå¤æ‚å† çŠ¶åŠ¨è„‰ç—…å˜
- âœ… **å¹¶å‘ç—‡å¤„ç†**ï¼šæœ¯ä¸­æ„å¤–æƒ…å†µåº”å¯¹
- âœ… **å™¨æ¢°é€‰æ‹©**ï¼šåŸºäºè§£å‰–ç‰¹å¾çš„ä¸ªæ€§åŒ–æ¨è
- âœ… **æœ¯åç®¡ç†**ï¼šå®Œæ•´çš„æŠ¤ç†è®¡åˆ’ç”Ÿæˆ
- âœ… **æ‰¹é‡å¤„ç†**ï¼šé«˜æ•ˆçš„å¤šæ‚£è€…è¯„ä¼°

---

## åœºæ™¯ä¸€ï¼šCAS æœ¯å‰è¯„ä¼°

### ä¸´åºŠèƒŒæ™¯

**æ‚£è€…ä¿¡æ¯**ï¼š
- 76 å²ç”·æ€§
- ä¸»è¯‰ï¼šè¿‘æœŸ 3 æ¬¡ TIAï¼Œæœ€è¿‘ä¸€æ¬¡ 2 å‘¨å‰
- ç—‡çŠ¶ï¼šå³ä¾§è‚¢ä½“æ— åŠ›ã€è¨€è¯­ä¸æ¸…ï¼ŒæŒç»­ 30 åˆ†é’Ÿåå®Œå…¨ç¼“è§£
- æ—¢å¾€å²ï¼šé«˜è¡€å‹ 15 å¹´ã€2 å‹ç³–å°¿ç—…ã€é«˜è„‚è¡€ç—‡
- ç”¨è¯ï¼šé˜¿å¸åŒ¹æ— 81mgã€èµ–è¯ºæ™®åˆ© 20mgã€é˜¿æ‰˜ä¼ä»–æ±€ 40mgã€äºŒç”²åŒèƒ 1000mg BID

**å½±åƒå­¦å‘ç°**ï¼š
- CTAï¼šå·¦ä¾§é¢ˆå†…åŠ¨è„‰èµ·å§‹éƒ¨ 85% ç‹­çª„ï¼ˆNASCET æ³•ï¼‰
- æ–‘å—ç‰¹å¾ï¼šæºƒç–¡çŠ¶ã€ä½å›å£°ï¼ˆè¶…å£°æç¤ºæ˜“æŸæ–‘å—ï¼‰
- è¿œç«¯è¡€æµï¼šä¿ç•™è‰¯å¥½
- å¯¹ä¾§é¢ˆå†…åŠ¨è„‰ï¼šè½»åº¦ç‹­çª„ï¼ˆ<30%ï¼‰

**ä¸´åºŠé—®é¢˜**ï¼š
è¯¥æ‚£è€…æ˜¯å¦é€‚åˆ CASï¼Ÿå¦‚æœé€‚åˆï¼Œåº”è¯¥ä½¿ç”¨ä»€ä¹ˆå™¨æ¢°ï¼Ÿä¸»è¦é£é™©æ˜¯ä»€ä¹ˆï¼Ÿ

### ä½¿ç”¨ç³»ç»Ÿè¯„ä¼°

#### SDK è°ƒç”¨

```python
from src.sdk.interventional import InterventionalClient

client = InterventionalClient()

result = await client.plan_intervention(
    patient_age=76,
    patient_gender="Male",
    symptoms="TIA x3, last episode 2 weeks ago with right-sided weakness and speech difficulty, lasting 30 minutes",
    stenosis_percentage=85,
    stenosis_method="NASCET",
    vessel="Left ICA",
    plaque_features="Ulcerated, hypoechoic on ultrasound indicating vulnerable plaque",
    comorbidities=["Hypertension (15 years)", "Type 2 Diabetes", "Hyperlipidemia"],
    medications=["Aspirin 81mg", "Lisinopril 20mg", "Atorvastatin 40mg", "Metformin 1000mg BID"],
    procedure_type="CAS",
    include_detailed_reasoning=True
)
```

#### CLI è°ƒç”¨

```bash
medgraph interventional plan \
  --patient-age 76 \
  --patient-gender Male \
  --symptoms "TIA x3, last episode 2 weeks ago with right-sided weakness" \
  --stenosis 85 \
  --vessel "Left ICA" \
  --procedure-type CAS \
  --comorbidities "Hypertension,Diabetes,Hyperlipidemia" \
  --include-reasoning
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "recommendation": "recommended",
  "confidence_score": 0.85,

  "primary_plan": {
    "procedure": "Carotid Artery Stenting (CAS)",
    "approach": "Femoral access with 7F sheath",
    "devices": [
      {
        "name": "FilterWire EZ",
        "type": "Embolic Protection Device",
        "manufacturer": "Boston Scientific",
        "size": "4.5mm filter",
        "quantity": 1,
        "rationale": "First-line EPD with excellent trackability. Essential given active plaque and symptomatic status."
      },
      {
        "name": "PRECISE PRO RX",
        "type": "Carotid Stent",
        "manufacturer": "Cordis",
        "size": "7x40mm",
        "quantity": 1,
        "rationale": "Open-cell design provides flexibility for potential tortuosity. 1-2mm larger than normal ICA diameter (4.8mm)."
      },
      {
        "name": "Avitar Plus",
        "type": "Balloon Catheter",
        "size": "5x20mm (pre-dilatation)",
        "quantity": 1,
        "rationale": "1mm smaller than vessel for safe pre-dilatation if needed"
      }
    ],
    "steps": [
      "1. Femoral access with ultrasound guidance using 7F sheath",
      "2. Administer heparin (target ACT >250 seconds)",
      "3. Navigate 0.014-inch guidewire to left ICA",
      "4. Deploy FilterWire EZ 2-3cm beyond lesion in straight segment",
      "5. Optional pre-dilatation with 5x20mm balloon at low pressure (4-6 atm)",
      "6. Deploy PRECISE stent covering lesion with 5-10mm margins",
      "7. Optional post-dilatation if underexpanded (use caution, <12 atm)",
      "8. Final angiography to confirm optimal expansion",
      "9. Retrieve FilterWire EZ using capture sheath"
    ],
    "rationale": "Based on ACC/AHA 2021 Class I, Level A recommendation for symptomatic patients with 50-99% ICA stenosis. Patient meets criteria with TIA symptoms and 85% stenosis."
  },

  "backup_plan": {
    "condition": "If unable to cross lesion with distal filter (3-5% of cases)",
    "alternative": "Convert to proximal protection (MO.MA system)",
    "technique": "8F sheath required, inflate ECA and CCA balloons for flow reversal",
    "fallback": "If proximal protection also fails, abort procedure and refer for CEA"
  },

  "risk_assessment": {
    "level": "High",
    "risk_score": 7.5,
    "factors": [
      {"factor": "Age >70 years", "severity": "High", "modifiable": false, "impact": "Increases peri-procedural stroke risk (CREST age interaction)"},
      {"factor": "Symptomatic status (recent TIA)", "severity": "High", "modifiable": false, "impact": "High recurrent stroke risk without intervention"},
      {"factor": "Active plaque (ulcerated, hypoechoic)", "severity": "High", "modifiable": false, "impact": "High embolization risk"},
      {"factor": "Hypertension", "severity": "Medium", "modifiable": true, "impact": "Requires careful BP management"},
      {"factor": "Diabetes", "severity": "Medium", "modifiable": true, "impact": "Increased cardiovascular risk"}
    ],
    "mitigation": [
      "Universal EPD use (FilterWire EZ or alternative)",
      "Careful technique - minimal wire manipulation",
      "Strict BP control (<140/90 mmHg pre-procedure)",
      "Ensure DAPT optimization (verify platelet inhibition if prior stent thrombosis)",
      "Consider heparin dosing to maintain ACT >300 seconds",
      "Post-procedure BP monitoring (hyperperfusion prevention)",
      "Operator with >30 CAS cases experience recommended"
    ],
    "expected_complication_rate": "5-7% (stroke/death/MI at 30 days)"
  },

  "sources": [
    {
      "graph": "literature",
      "source": "ACC/AHA 2021 Guideline for Carotid Artery Stenting",
      "recommendation": "Class I, Level A",
      "relevant_quote": "CAS is indicated for patients with recent TIA or ischemic stroke attributed to 50-99% stenosis of the internal carotid artery",
      "url": "https://www.acc.org/guidelines"
    },
    {
      "graph": "literature",
      "source": "CREST Trial (2010)",
      "recommendation": "Level A Evidence",
      "relevant_quote": "CAS and CEA had similar long-term outcomes for symptomatic patients. Age interaction: CAS safer in patients <70, CEA safer in patients >70",
      "note": "Patient age 76 favors CEA, but other factors (symptomatic, active plaque) still support CAS"
    },
    {
      "graph": "patient",
      "source": "Clinical data",
      "key_findings": ["Age 76", "Symptomatic (3 TIA episodes)", "85% stenosis", "Active plaque", "Good distal flow"]
    },
    {
      "graph": "dictionary",
      "source": "Device specifications",
      "relevant_info": "FilterWire EZ: 110 micron pores, 95% capture efficiency. PRECISE: Open-cell design, high flexibility"
    }
  ],

  "reasoning_chain": [
    "Step 1 (Intent Recognition): Identified CAS procedure from 'Left ICA stenosis' context",
    "Step 2 (Entity Extraction): Extracted age=76, symptomatic, stenosis=85%, active plaque, HTN, DM",
    "Step 3 (U-Retrieval - Global): Retrieved ACC/AHA Class I indication for symptomatic >50% stenosis",
    "Step 4 (U-Retrieval - Local): Identified patient-specific risks (age>70, active plaque)",
    "Step 5 (U-Retrieval - Hybrid): Retrieved device specifications (FilterWire, PRECISE)",
    "Step 6 (Indications Assessment): Meets Class I criteria - symptomatic + 85% stenosis",
    "Step 7 (Contraindications Assessment): No absolute contraindications. Age>70 is relative consideration",
    "Step 8 (Risk Assessment): Overall high risk due to age, symptoms, active plaque",
    "Step 9 (Procedure Matching): Guideline-based CAS with EPD mandatory",
    "Step 10 (Plan Synthesis): Primary plan (FilterWire + PRECISE), Backup (MO.MA), Risk mitigation strategies"
  ]
}
```

### ä¸´åºŠè§£è¯»

**æ¨èç­‰çº§ï¼šClass Iï¼ˆå¼ºçƒˆæ¨èï¼‰**

è¯¥æ‚£è€…ç¬¦åˆ CAS çš„æ‰€æœ‰ä¸»è¦é€‚åº”ç—‡ï¼š

1. **ç—‡çŠ¶æ€§é¢ˆåŠ¨è„‰ç‹­çª„**ï¼šæ‚£è€…æœ‰æ˜ç¡®çš„ TIA ç—…å²ï¼ˆ3æ¬¡ï¼‰
2. **ç‹­çª„ç¨‹åº¦**ï¼š85% é‡åº¦ç‹­çª„ï¼ˆNASCET æ³•ï¼‰
3. **æ‰‹æœ¯å¯åŠæ€§**ï¼šè§£å‰–ç»“æ„é€‚åˆä»‹å…¥æ²»ç–—

**ä¸»è¦è€ƒè™‘å› ç´ **ï¼š

| å› ç´  | æƒé‡ | è€ƒè™‘ |
|------|------|------|
| ç—‡çŠ¶çŠ¶æ€ | â­â­â­ | å¼ºçƒˆæ”¯æŒå¹²é¢„ï¼ˆé«˜å’ä¸­é£é™©ï¼‰ |
| ç‹­çª„ç¨‹åº¦ | â­â­â­ | 85% > 70% é˜ˆå€¼ |
| æ´»åŠ¨æ€§æ–‘å— | â­â­â­ | å¿…é¡»ä½¿ç”¨ EPD |
| å¹´é¾„ >70 | â­â­ | ç›¸å¯¹ç¦å¿Œï¼ŒCREST æç¤º CEA å¯èƒ½æ›´å®‰å…¨ |
| è¡€ç®¡è§£å‰– | â­ | éœ€è¦è¯„ä¼°ä¸»åŠ¨è„‰å¼“å½¢æ€ |

**å™¨æ¢°é€‰æ‹©ç†ç”±**ï¼š

1. **FilterWire EZ**ï¼š
   - æ ‡å‡†è¿œç«¯æ»¤ç½‘ EPD
   - 110 å¾®ç±³å­”å¾„ï¼Œ95% æ•è·æ•ˆç‡
   - æ´»åŠ¨æ€§æ–‘å—å¿…é¡»ä½¿ç”¨ EPD

2. **PRECISE PRO RX (7x40mm)**ï¼š
   - å¼€ç¯è®¾è®¡ï¼Œé€‚åˆæ½œåœ¨è¡€ç®¡è¿‚æ›²
   - ç›´å¾„æ¯”æ­£å¸¸ ICA (4.8mm) å¤§ 1-2mm
   - CREST è¯•éªŒä¸­ä½¿ç”¨çš„æ”¯æ¶ï¼Œè¯æ®å……åˆ†

**é£é™©ç®¡ç†**ï¼š

- **æ€»é£é™©ï¼šé«˜ï¼ˆ7.5/10ï¼‰**
- **é¢„æœŸå¹¶å‘ç—‡ç‡ï¼š5-7%**
- **å…³é”®ç¼“è§£æªæ–½**ï¼š
  - ä¸¥æ ¼ BP æ§åˆ¶ï¼ˆé¢„é˜²è¿‡åº¦çŒæ³¨ç»¼åˆå¾ï¼‰
  - ç¡®ä¿ DAPT å……åˆ†
  - ç»éªŒä¸°å¯Œçš„æœ¯è€…ï¼ˆ>30 ä¾‹ CASï¼‰
  - å¤‡ç”¨æ–¹æ¡ˆï¼šè¿‘ç«¯ä¿æŠ¤è£…ç½®

**å¤‡é€‰æ–¹æ¡ˆè®¨è®º**ï¼š

è€ƒè™‘åˆ°æ‚£è€…å¹´é¾„ï¼ˆ76å²ï¼‰ï¼ŒCEA å¯èƒ½ä¹Ÿæœ‰åˆç†æ€§ã€‚CREST è¯•éªŒæ˜¾ç¤ºå¹´é¾„>70å²æ—¶ CEA å’ä¸­é£é™©æ›´ä½ã€‚åº”ä¸æ‚£è€…è®¨è®ºï¼š
- CAS ä¼˜åŠ¿ï¼šå¾®åˆ›ã€é¿å…é¢ˆéƒ¨åˆ‡å£ã€è¾ƒä½çš„ MI é£é™©
- CEA ä¼˜åŠ¿ï¼šå¹´é¾„>70æ—¶å’ä¸­é£é™©å¯èƒ½æ›´ä½ã€ä¸€æ¬¡æ€§å¤„ç†ç—…å˜

**æœ€ç»ˆå»ºè®®**ï¼š

**æ¨è CAS**ï¼Œä½†éœ€ï¼š
1. ç»éªŒä¸°å¯Œçš„æœ¯è€…
2. ä½¿ç”¨ EPDï¼ˆFilterWire æˆ– MO.MA å¤‡ç”¨ï¼‰
3. ä¸¥æ ¼å›´æ‰‹æœ¯æœŸ BP æ§åˆ¶
4. å……åˆ†çš„ DAPT
5. æ‚£è€…å……åˆ†çŸ¥æƒ…åŒæ„ï¼Œäº†è§£ CEA æ›¿ä»£æ–¹æ¡ˆ

---

## åœºæ™¯äºŒï¼šPCI å¤æ‚ç—…å˜å¤„ç†

### ä¸´åºŠèƒŒæ™¯

**æ‚£è€…ä¿¡æ¯**ï¼š
- 68 å²å¥³æ€§
- ä¸»è¯‰ï¼šåŠ³åŠ›æ€§èƒ¸ç—› 3 ä¸ªæœˆï¼ŒåŠ æ‹¿å¤§å¿ƒåŠŸèƒ½åˆ†çº§ III çº§
- æ—¢å¾€å²ï¼š2 å‹ç³–å°¿ç—…ã€é«˜è¡€å‹ã€è‚¥èƒ–ï¼ˆBMI 32ï¼‰
- æ—¢å¾€ PCIï¼šRCA æ”¯æ¶æ¤å…¥ï¼ˆ5å¹´å‰ï¼‰

**å† è„‰é€ å½±å‘ç°**ï¼š
- LADï¼šè¿‘ä¸­æ®µ 90% å¼¥æ¼«æ€§ç—…å˜ï¼Œé•¿åº¦ 30mmï¼Œé‡åº¦é’™åŒ–
- LCXï¼šOM æ”¯æ¶ 70% ç‹­çª„
- RCAï¼šåŸæ”¯æ¶é€šç•…ï¼Œæ— å†ç‹­çª„
- LVEFï¼š55%

**ä¸´åºŠé—®é¢˜**ï¼š
å¦‚ä½•å¤„ç† LAD å¤æ‚ç—…å˜ï¼Ÿéœ€è¦ä»€ä¹ˆç‰¹æ®Šå™¨æ¢°å’ŒæŠ€æœ¯ï¼Ÿ

### ä½¿ç”¨ç³»ç»Ÿè¯„ä¼°

```python
result = await client.plan_intervention(
    patient_age=68,
    patient_gender="Female",
    symptoms="Exertional chest pain, CCS Class III",
    stenosis_percentage=90,
    vessel="LAD",
    lesion_characteristics="Diffuse, 30mm length, severe calcification",
    comorbidities=["Diabetes", "Hypertension", "Obesity BMI 32"],
    procedure_type="PCI",
    include_detailed_reasoning=True
)
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "recommendation": "recommended with modifications",
  "confidence_score": 0.78,

  "primary_plan": {
    "procedure": "Complex PCI of LAD with rotational atherectomy",
    "approach": "Radial access with 7F EBU 3.5 guide catheter",
    "devices": [
      {
        "name": "Rotablator",
        "type": "Rotational Atherectomy Device",
        "size": "1.5mm burr",
        "rationale": "Severe calcification requires plaque modification before stenting"
      },
      {
        "name": "IVUS catheter",
        "type": "Intravascular Ultrasound",
        "rationale": "Assess calcium extent, optimize stent expansion, check edge dissection"
      },
      {
        "name": "Drug-eluting stent (Xience Sierra)",
        "type": "Coronary Stent",
        "size": "2.5x38mm and 2.75x38mm",
        "rationale": "Long lesion may require overlapping stents, ultrathin struts for deliverability"
      }
    ],
    "steps": [
      "1. Radial access with 7F sheath (consider femoral if need large burr)",
      "2. Administer heparin and bivalirudin (consider based on bleeding risk)",
      "3. Advance 7F EBU guide to LAD ostium",
      "4. Wire lesion with workhorse guidewire (Grand Slam)",
      "5. Perform IVUS pullback to assess calcium distribution",
      "6. Exchange to RotaWire, perform rotational atherectomy with 1.5mm burr",
      "7. Consider larger burr (1.75mm) if calcium remains significant",
      "8. Pre-dilatation with non-compliant balloon if needed",
      "9. Deploy first DES (2.5x38mm)",
      "10. IVUS check for optimal expansion and edge dissection",
      "11. Deploy second DES (2.75x38mm) with 3-4mm overlap",
      "12. Post-dilatation of overlap zone with non-compliant balloon",
      "13. Final IVUS to confirm optimal expansion (MSI >90%)",
      "14. Final angiography"
    ],
    "rationale": "ACC/AHA 2021 guidelines support PCI for symptomatic CAD. Complex calcified lesion requires plaque modification with rotational atherectomy."
  },

  "risk_assessment": {
    "level": "Intermediate-High",
    "key_factors": [
      {"factor": "Diabetes", "severity": "Medium", "impact": "Increased restenosis risk, consider longer DAPT"},
      {"factor": "Severe calcification", "severity": "High", "impact": "Requires rotational atherectomy, increases complexity"},
      {"factor": "Long lesion (30mm)", "severity": "Medium", "impact": "May require overlapping stents, higher restenosis risk"},
      {"factor": "Obesity", "severity": "Low", "impact": "May affect radiation dose and contrast volume"}
    ],
    "mitigation": [
      "IVUS guidance for optimal stent expansion",
      "Aggressive lipid management (target LDL <55 mg/dL)",
      "Consider DCB or bioresorbable scaffold if available (investigational)",
      "Meticulous overlapping technique to minimize restenosis",
      "Extended DAPT (12 months) given diabetes and long lesion"
    ]
  },

  "sources": [
    {
      "graph": "literature",
      "source": "ACC/AHA 2021 PCI Guideline",
      "recommendation": "Class I, Level A",
      "relevant_quote": "PCI is indicated for patients with symptomatic CAD suitable for revascularization"
    },
    {
      "graph": "literature",
      "source": "PREPARE-CALC and ROTAXUS trials",
      "recommendation": "Class IIa, Level B",
      "relevant_quote": "Rotational atherectomy is reasonable for heavily calcified lesions not modifiable by balloon dilatation alone"
    }
  ]
}
```

### ä¸´åºŠè§£è¯»

**æ¨èç­‰çº§ï¼šClass IIaï¼ˆå¯ä»¥æ¨èï¼‰**

**æŠ€æœ¯è¦ç‚¹**ï¼š

1. **æ—‹ç£¨æ²»ç–—**ï¼š
   - 1.5mm ç£¨å¤´é¦–é€‰ï¼Œé¿å…è¿‡å¤§ç£¨å¤´
   - 160,000-180,000 rpm
   - æ…¢è¿›å¿«é€€ï¼ˆ"pecking" motionï¼‰
   - æ¯æ¬¡ 15-20 ç§’ï¼Œé—´æ­‡ 10 ç§’

2. **IVUS å¼•å¯¼**ï¼š
   - è¯„ä¼°é’™åŒ–è§’åº¦ï¼ˆ>180Â°éœ€è¦æ—‹ç£¨ï¼‰
   - è¯„ä¼°æ”¯æ¶æ‰©å¼ ï¼ˆMSI ç›®æ ‡ >90%ï¼‰
   - æ£€æŸ¥è¾¹ç¼˜å¤¹å±‚

3. **é‡å æ”¯æ¶**ï¼š
   - 3-4mm é‡å 
   - å…ˆè¿œç«¯åè¿‘ç«¯
   - é‡å åŒºåŸŸåæ‰©å¼ 

---

## åœºæ™¯ä¸‰ï¼šå¹¶å‘ç—‡åº”æ€¥å¤„ç†

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šCAS æœ¯ä¸­ï¼ŒFilterWire EPD æ— æ³•é€šè¿‡ 85% ç‹­çª„ç—…å˜

**é—®é¢˜**ï¼š
- å·²å°è¯• 3 æ¬¡ä¸åŒå¯¼ä¸è½¨è¿¹
- æ‚£è€…ç—‡çŠ¶æ€§ï¼Œ85% ç‹­çª„
- æ–‘å—æºƒç–¡çŠ¶ï¼Œé«˜æ “å¡é£é™©

### ä½¿ç”¨ç³»ç»Ÿ

```python
result = await client.handle_complication(
    complication_type="epd_deployment_failure",
    context={
        "procedure": "CAS",
        "patient_age": 76,
        "symptomatic": True,
        "stenosis": 85,
        "active_plaque": True,
        "attempts": 3,
        "available_devices": ["FilterWire", "MO.MA system", "GuardWire"]
    }
)
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "complication": "EPD Deployment Failure",
  "incidence": "2-5% of CAS procedures",
  "urgency": "High",

  "assessment": {
    "risk": "High embolic risk without EPD",
    "causes": ["Severe stenosis", "Tortuous proximal vessel", "Unfavorable lesion angle"],
    "continue_attempts": "NOT recommended - risk increases with multiple attempts"
  },

  "recommended_actions": {
    "step_1": {
      "action": "Convert to proximal protection (MO.MA system)",
      "rationale": "Protection starts before lesion crossing, no need to navigate past stenosis",
      "requirements": ["8F sheath", "Adequate common carotid length (>2cm)", "Patient tolerance of flow interruption"]
    },
    "step_2": {
      "action": "If MO.MA not available or contraindicated",
      "alternatives": [
        "Consider distal occlusion (GuardWire) - but still requires crossing",
        "Abort procedure and refer for CEA - safest option given symptomatic status"
      ]
    }
  },

  "decision_matrix": {
    "mo_ma_available": "Use MO.MA (success rate ~85%)",
    "mo_ma_unavailable_anatomy_favorable": "Consider one more careful attempt with different wire",
    "mo_ma_unavailable_anatomy_unfavorable": "ABORT and refer for CEA"
  },

  "technique_guidance": {
    "mo_ma_deployment": [
      "Exchange to 8F sheath (may need Perclose ProGlide for hemostasis)",
      "Advance MO.MA to common carotid artery",
      "Inflate external carotid artery balloon first (test occlusion)",
      "Inflate common carotid artery balloon",
      "Verify flow cessation (angiography or Doppler)",
      "Proceed with intervention under flow reversal",
      "Aspirate aggressively from sheath before balloon deflation"
    ]
  },

  "warning": "DO NOT proceed without EPD in symptomatic patient with active plaque - unacceptable stroke risk"
}
```

### ä¸´åºŠå†³ç­–æµç¨‹

```
EPD æ— æ³•é€šè¿‡ (3æ¬¡å°è¯•å)
       â”‚
       â†“
  MO.MA å¯ç”¨ï¼Ÿ
       â”‚
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”
   â”‚       â”‚
  YES      NO
   â”‚       â”‚
   â†“       â†“
è§£å‰–é€‚åˆï¼Ÿ  å°è¯•å…¶ä»–å¯¼ä¸ï¼Ÿ
   â”‚       â”‚
 â”Œâ”€â”´â”€â”   â”Œâ”€â”´â”€â”
 â”‚   â”‚   â”‚   â”‚
YES  NO  1æ¬¡  å¦
 â”‚   â”‚   â”‚   â”‚
 â†“   â†“   â†“   â†“
ä½¿ç”¨ ä¸­æ­¢ é™çº§ ä¸­æ­¢
MO.MA å¹¶è½¬CEA åå¤±è´¥ CEA
```

---

## åœºæ™¯å››ï¼šå¤šå­¦ç§‘ä¼šè¯Šæ”¯æŒ

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šå¤šå­¦ç§‘ä¼šè¯Šï¼ˆMDTï¼‰è®¨è®º 76 å²ç—‡çŠ¶æ€§é¢ˆåŠ¨è„‰ç‹­çª„æ‚£è€…çš„æœ€ä½³æ²»ç–—æ–¹æ¡ˆ

**å‚ä¸è€…**ï¼š
- ç¥ç»å†…ç§‘åŒ»å¸ˆ
- ä»‹å…¥æ”¾å°„ç§‘åŒ»å¸ˆ
- è¡€ç®¡å¤–ç§‘åŒ»å¸ˆ
- ç¥ç»ç§‘åŒ»å¸ˆ

**é—®é¢˜**ï¼šCAS vs CEAï¼Ÿ

### ä½¿ç”¨ç³»ç»Ÿ

```python
# å‡†å¤‡æ¯”è¾ƒæŠ¥å‘Š
comparison = await client.compare_treatment_options(
    patient_profile={
        "age": 76,
        "symptoms": "TIA",
        "stenosis": 85,
        "comorbidities": ["HTN", "DM", "HL"]
    },
    options=["CAS", "CEA"],
    outcome_measures=["stroke", "mi", "death", "cranial_nerve_injury"]
)
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "patient_summary": "76M, symptomatic, 85% Left ICA stenosis, HTN/DM/HL",

  "comparison_table": {
    "cas": {
      "stroke_risk": "4.1% (CREST)",
      "mi_risk": "1.1% (CREST)",
      "death_risk": "<1%",
      "cranial_nerve_injury": "<1%",
      "advantages": [
        "No neck incision",
        "Lower cranial nerve injury",
        "Lower MI risk",
        "Shorter hospital stay",
        "Preferred for prior neck surgery or radiation"
      ],
      "disadvantages": [
        "Higher stroke risk in age >70",
        "Requires dual antiplatelet therapy",
        "Higher restenosis rate",
        "Learning curve for operator"
      ],
      "crest_age_interaction": "CAS safer for patients <70, CEA safer for >70"
    },
    "cea": {
      "stroke_risk": "2.3% (CREST)",
      "mi_risk": "2.3% (CREST)",
      "death_risk": "<1%",
      "cranial_nerve_injury": "5-10%",
      "advantages": [
        "Lower stroke risk in age >70",
        "Durable result (lower restenosis)",
        "No need for DAPT",
        "Proven long-term data",
        "Single procedure (no retreatment needed)"
      ],
      "disadvantages": [
        "Neck incision",
        "Higher cranial nerve injury",
        "Higher MI risk",
        "Longer hospital stay",
        "Not suitable for high cervical lesions"
      ]
    }
  },

  "guideline_recommendations": {
    "cas": "Class I for symptomatic 50-99% stenosis, Class IIa for asymptomatic >70%",
    "cea": "Class I for symptomatic 50-99% stenosis, Class IIa for asymptomatic >70%"
  },

  "patient_specific_considerations": {
    "age_76": "Favors CEA based on CREST age interaction (lower stroke risk)",
    "symptomatic": "Strong indication for revascularization (either CAS or CEA)",
    "comorbidities": {
      "diabetes": "No clear preference, both options acceptable",
      "hypertension": "No clear preference, BP control important for both",
      "hyperlipidemia": "No clear preference, statin therapy indicated"
    }
  },

  "shared_decision_making": {
    "discuss_with_patient": [
      "CAS: Less invasive, lower neck complications, higher stroke risk at age 76",
      "CEA: Lower stroke risk at age 76, neck incision, higher nerve injury risk",
      "Both: Require lifelong aspirin, risk reduction compared to medical therapy alone"
    ],
    "patient_preferences": [
      "Does patient prefer to avoid neck incision?",
      "Is patient willing to take dual antiplatelet therapy for 1-6 months?",
      "Is patient comfortable with cranial nerve injury risk (5-10%) vs stroke risk difference?"
    ]
  },

  "final_recommendation": {
    "summary": "Either CAS or CEA is acceptable based on guidelines. CREST data suggests lower stroke risk with CEA in patients >70. Decision should be based on anatomy, patient preference, and operator experience.",
    "if_anatomy_favorable_for_cas": "CAS is reasonable if patient prefers to avoid neck incision",
    "if_anatomy_unfavorable_for_cas": "CEA may be preferred given age >70",
    "key_criterion": "Anatomical assessment (arch type, lesion location, vessel tortuosity) should guide final decision"
    }
}
```

### MDT è®¨è®ºè¦ç‚¹

**ç¥ç»å†…ç§‘è§‚ç‚¹**ï¼š
- æ”¯æŒç§¯æå¹²é¢„ï¼ˆç—‡çŠ¶æ€§ã€85% ç‹­çª„ï¼‰
- æ‹…å¿ƒ CAS å’ä¸­é£é™©ï¼ˆå¹´é¾„>70ï¼‰

**ä»‹å…¥æ”¾å°„ç§‘è§‚ç‚¹**ï¼š
- CAS å¯è¡Œï¼Œä½†éœ€è¦æ³¨æ„ï¼š
  - III å‹ä¸»åŠ¨è„‰å¼“ä¼šå¢åŠ éš¾åº¦
  - éœ€è¦ç»éªŒä¸°å¯Œçš„æœ¯è€…
  - å¿…é¡»ä½¿ç”¨ EPD

**è¡€ç®¡å¤–ç§‘è§‚ç‚¹**ï¼š
- CEA æ˜¯è¯¥å¹´é¾„ç»„çš„"é‡‘æ ‡å‡†"
- æ›´ä½çš„å’ä¸­é£é™©
- å¯ä»¥åœ¨å±€éº»ä¸‹å®Œæˆ

**æœ€ç»ˆå…±è¯†**ï¼š

1. è¯„ä¼°è§£å‰–ç»“æ„ï¼ˆCTA é‡å»ºä¸»åŠ¨è„‰å¼“ï¼‰
2. å¦‚æœè§£å‰–é€‚åˆ CAS â†’ ä¸æ‚£è€…è®¨è®ºä¸¤ç§é€‰æ‹©
3. å¦‚æœè§£å‰–ä¸é€‚åˆ CAS â†’ CEA
4. å¦‚æœæ‚£è€…å¼ºçƒˆå€¾å‘é¿å…é¢ˆéƒ¨åˆ‡å£ â†’ CASï¼ˆçŸ¥æƒ…åŒæ„ï¼‰

---

## åœºæ™¯äº”ï¼šå™¨æ¢°é€‰æ‹©ä¼˜åŒ–

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šä¸åŒè§£å‰–ç‰¹å¾ä¸‹çš„å™¨æ¢°ä¸ªæ€§åŒ–é€‰æ‹©

### ç³»ç»Ÿä½¿ç”¨

```python
scenarios = [
    {
        "name": "Tortuous ICA",
        "anatomy": {"diameter": 4.8, "length": 15, "tortuosity": "Severe"},
        "devices": await client.get_device_recommendations(...)
    },
    {
        "name": "Ulcerated Plaque",
        "anatomy": {"diameter": 5.2, "length": 12, "plaque": "Ulcerated"},
        "devices": await client.get_device_recommendations(...)
    },
    {
        "name": "Large Diameter ICA",
        "anatomy": {"diameter": 6.5, "length": 10, "tortuosity": "Minimal"},
        "devices": await client.get_device_recommendations(...)
    }
]
```

### ç³»ç»Ÿè¾“å‡ºå¯¹æ¯”

| è§£å‰–ç‰¹å¾ | æ”¯æ¶æ¨è | ç†ç”± | EPD æ¨è |
|---------|---------|------|----------|
| **è¿‚æ›² ICA** | PRECISE (å¼€ç¯) | é«˜æŸ”é¡ºæ€§ï¼Œæ˜“äºé€šè¿‡ | FilterWire EZ |
| **æºƒç–¡æ–‘å—** | Wallstent (é—­ç¯) | æ›´å¥½çš„æ–‘å—è¦†ç›– | FilterWire EZ |
| **å¤§ç›´å¾„ ICA** | Cristallo Ideale | é”¥å½¢è®¾è®¡åŒ¹é…è§£å‰– | FilterWire EZ (å¤§å·) |

---

## åœºæ™¯å…­ï¼šæœ¯åç®¡ç†è®¡åˆ’

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šCAS æœ¯åï¼Œéœ€è¦åˆ¶å®šå®Œæ•´çš„æŠ¤ç†è®¡åˆ’

### ç³»ç»Ÿä½¿ç”¨

```python
postop = await client.plan_postop_care(
    procedure_type="CAS",
    patient_age=76,
    comorbidities=["Hypertension", "Diabetes"],
    procedure_details={
        "devices_used": ["FilterWire EZ", "PRECISE 7x40mm"],
        "complications": null,
        "length_of_stay": "1 day planned"
    }
)
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "medications": {
    "dual_antiplatelet_therapy": {
      "aspirin": {"dose": "81-325 mg daily", "duration": "Lifelong"},
      "clopidogrel": {"dose": "75 mg daily", "duration": "Minimum 30 days (consider 6 weeks)"}
    },
    "statin": {
      "drug": "Atorvastatin 40-80 mg daily",
      "intensity": "High-intensity",
      "target_ldl": "<70 mg/dL (preferably <55 mg/dL)"
    },
    "blood_pressure": {
      "target": "SBP <140 mmHg for 72 hours, then <130/80 mmHg long-term",
      "urgency": "CRITICAL for first 72 hours (prevent hyperperfusion)"
    }
  },

  "monitoring": {
    "immediate": {
      "observation": "18-24 hours",
      "neuro_checks": "Every hour x 6, then every 4 hours",
      "bp_monitoring": "Continuous or hourly"
    },
    "discharge_criteria": [
      "Neurologically stable",
      "BP adequately controlled",
      "No access site complications",
      "Patient education complete"
    ]
  },

  "follow_up": [
    {"time": "30 days", "assessments": ["Clinical eval", "Duplex US", "DAPT adherence"]},
    {"time": "6 months", "assessments": ["Clinical eval", "Duplex US", "Restenosis screen"]},
    {"time": "12 months + annually", "assessments": ["Clinical eval", "Duplex US"]}
  ],

  "patient_education": {
    "warning_signs_call_911": [
      "Sudden weakness or numbness",
      "Speech difficulty",
      "Vision changes",
      "Severe headache with neurological changes"
    ],
    "warning_signs_call_office": [
      "Access site pain or swelling",
      "New mild neurological symptoms",
      "Medication side effects"
    ],
    "lifestyle": [
      "Smoking cessation",
      "Heart-healthy diet (Mediterranean)",
      "Exercise: walking 30 min daily",
      "BP monitoring at home"
    ]
  }
}
```

---

## åœºæ™¯ä¸ƒï¼šæ‰¹é‡æ‚£è€…è¯„ä¼°

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šè¯„ä¼° 10 ä½ç­‰å¾… CAS è¯„ä¼°çš„æ‚£è€…

### ç³»ç»Ÿä½¿ç”¨

```python
patients_df = pd.read_csv("patients_waiting_list.csv")

results = await client.batch_assess(
    patients=patients_df.to_dict('records'),
    procedure_type="CAS",
    priority_column="wait_time_weeks"
)

# æŒ‰ä¼˜å…ˆçº§æ’åº
results_sorted = sorted(results, key=lambda x: x['risk_score'], reverse=True)
```

### è¾“å‡ºç¤ºä¾‹

```csv
Patient_ID,Age,Symptoms,Stenosis,Risk_Score,Recommendation,Priority,Wait_Time
P001,76,TIA,85,7.5,Recommended,High,2
P002,65,None,78,4.2,Consider,Medium,8
P003,82,Stroke,90,8.8,Recommended,High,1
P004,71,None,72,5.1,Consider,Medium,5
P010,68,TIA,65,6.2,Recommended,Medium,3
```

### ä¸´åºŠå†³ç­–

| ä¼˜å…ˆçº§ | æ‚£è€… | è¡ŒåŠ¨ |
|--------|------|------|
| **é«˜** | P003 (82å², å’ä¸­, 90%) | ç«‹å³è¯„ä¼°ï¼Œè€ƒè™‘ CEAï¼ˆå¹´é¾„å› ç´ ï¼‰ |
| **é«˜** | P001 (76å², TIA, 85%) | 2å‘¨å†…å®‰æ’ CAS |
| **ä¸­** | P010 (68å², TIA, 65%) | 4å‘¨å†…è¯„ä¼° |
| **ä¸­** | P004 (71å², æ— ç—‡çŠ¶, 72%) | è®¨è®ºé£é™©è·ç›Š |
| **ä½** | P002 (65å², æ— ç—‡çŠ¶, 78%) | 6-8å‘¨å†…è¯„ä¼°æˆ–è€ƒè™‘è¯ç‰©æ²»ç–— |

---

## åœºæ™¯å…«ï¼šä¸´åºŠç ”ç©¶æ”¯æŒ

### ä¸´åºŠèƒŒæ™¯

**åœºæ™¯**ï¼šç ”ç©¶è€…æƒ³äº†è§£ CAS åœ¨ä¸åŒå¹´é¾„ç»„çš„ç»“å±€æ•°æ®

### ç³»ç»Ÿä½¿ç”¨

```python
# æŸ¥è¯¢ä¸´åºŠè¯•éªŒæ•°æ®
evidence = await client.query_clinical_trials(
    procedure="CAS",
    subgroups=["age <70", "age 70-80", "age >80"],
    outcomes=["stroke", "death", "mi", "restenosis"]
)
```

### ç³»ç»Ÿè¾“å‡º

```json
{
  "crest_trial_subgroup_analysis": {
    "age_lt_70": {
      "n": 1200,
      "stroke_rate_cas": "3.2%",
      "stroke_rate_cea": "5.8%",
      "hr": "0.55 (95% CI 0.38-0.80)",
      "interpretation": "CAS significantly better than CEA in patients <70"
    },
    "age_70_80": {
      "n": 950,
      "stroke_rate_cas": "5.5%",
      "stroke_rate_cea": "3.8%",
      "hr": "1.45 (95% CI 0.98-2.14)",
      "interpretation": "Trend favoring CEA, not statistically significant"
    },
    "age_gt_80": {
      "n": 352,
      "stroke_rate_cas": "7.2%",
      "stroke_rate_cea": "4.1%",
      "hr": "1.76 (95% CI 1.05-2.94)",
      "interpretation": "CEA significantly better than CAS in patients >80"
    }
  },

  "other_trials": {
    "sapphire": "High surgical risk patients, CAS non-inferior to CEA",
    "epace": "Did not complete, stopped early",
    "space": "Non-inferiority not demonstrated"
  },

  "meta_analysis": {
    "overall_conclusion": "Age is important effect modifier - CAS better for younger patients, CEA better for older patients",
    "optimal_cutoff": "Age 70-75 years based on trial data",
    "clinical_implication": "Patient age should be key consideration in treatment selection"
  }
}
```

---

## æ€»ç»“

è¿™äº›ä¸´åºŠåœºæ™¯å±•ç¤ºäº†ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“åœ¨å®é™…ä¸´åºŠå·¥ä½œä¸­çš„åº”ç”¨ä»·å€¼ï¼š

1. **æœ¯å‰è¯„ä¼°**ï¼šå¿«é€Ÿã€æ ‡å‡†åŒ–çš„è¯„ä¼°æµç¨‹
2. **å™¨æ¢°æ¨è**ï¼šåŸºäºè§£å‰–ç‰¹å¾çš„ä¸ªæ€§åŒ–é€‰æ‹©
3. **é£é™©ç®¡ç†**ï¼šç³»ç»Ÿæ€§çš„é£é™©è¯†åˆ«å’Œç¼“è§£ç­–ç•¥
4. **å¹¶å‘ç—‡å¤„ç†**ï¼šåº”æ€¥å†³ç­–æ”¯æŒ
5. **å¤šå­¦ç§‘è®¨è®º**ï¼šå¾ªè¯åŒ»å­¦è¯æ®å‡†å¤‡
6. **æœ¯åç®¡ç†**ï¼šå®Œæ•´çš„æŠ¤ç†è®¡åˆ’
7. **æ‰¹é‡å¤„ç†**ï¼šé«˜æ•ˆçš„æ‚£è€…ç®¡ç†
8. **ä¸´åºŠç ”ç©¶**ï¼šå¿«é€Ÿè¯æ®æŸ¥è¯¢

---

## æ›´å¤šèµ„æº

- ğŸ“– [æ¦‚è¿°æ–‡æ¡£](overview.md) - ç³»ç»Ÿæ¶æ„å’Œæ ¸å¿ƒæ¦‚å¿µ
- ğŸ“– [SDK ä½¿ç”¨æŒ‡å—](sdk_guide.md) - Python SDK è¯¦ç»†æ–‡æ¡£
- ğŸ“– [API å‚è€ƒæ–‡æ¡£](api_reference.md) - RESTful API å‚è€ƒ
- ğŸ“– [CLI ä½¿ç”¨æŒ‡å—](cli_guide.md) - å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨
