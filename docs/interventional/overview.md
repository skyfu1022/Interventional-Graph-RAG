# ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“æ¨¡å—æ¦‚è¿°

## ç›®å½•

- [ç®€ä»‹](#ç®€ä»‹)
- [æ ¸å¿ƒæ¶æ„](#æ ¸å¿ƒæ¶æ„)
- [ä¸‰å±‚å›¾è°±ç³»ç»Ÿ](#ä¸‰å±‚å›¾è°±ç³»ç»Ÿ)
- [ä¸»è¦åŠŸèƒ½](#ä¸»è¦åŠŸèƒ½)
- [ä½¿ç”¨åœºæ™¯](#ä½¿ç”¨åœºæ™¯)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ¶æ„å›¾](#æ¶æ„å›¾)

## ç®€ä»‹

ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“æ˜¯ Medical Graph RAG ç³»ç»Ÿçš„æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼Œä¸“é—¨ç”¨äºè¾…åŠ©**ä»‹å…¥å¿ƒè„ç—…å­¦**å’Œ**ä»‹å…¥ç¥ç»ç—…å­¦**çš„ä¸´åºŠå†³ç­–ã€‚è¯¥æ¨¡å—åŸºäº**LangGraph**å·¥ä½œæµæ¡†æ¶å’Œ**LightRAG**çŸ¥è¯†å›¾è°±æŠ€æœ¯ï¼Œå®ç°äº†ä»æ‚£è€…æ•°æ®é‡‡é›†ã€åŒ»å­¦çŸ¥è¯†æ£€ç´¢ã€æ‰‹æœ¯æ–¹æ¡ˆç”Ÿæˆåˆ°æœ¯åç®¡ç†çš„å®Œæ•´ä¸´åºŠå†³ç­–æ”¯æŒæµç¨‹ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **ä¸‰å±‚å›¾è°±ååŒæ£€ç´¢**ï¼šæ‚£è€…æ•°æ®å›¾è°±ï¼ˆlocalï¼‰+ åŒ»å­¦æ–‡çŒ®å›¾è°±ï¼ˆglobalï¼‰+ åŒ»å­¦è¯å…¸å›¾è°±ï¼ˆhybridï¼‰
- âœ… **å…¨ LLM é©±åŠ¨å†³ç­–**ï¼šæ— ç¡¬ç¼–ç è§„åˆ™ï¼Œæ¯ä¸ªå†³ç­–èŠ‚ç‚¹éƒ½ç”± LLM + GraphRAG é©±åŠ¨
- âœ… **å¯è¿½æº¯æ¨ç†é“¾**ï¼šæ¯ä¸ªå†³ç­–éƒ½è®°å½•æ¥æºå›¾è°±ã€æ£€ç´¢æ¨¡å¼å’Œç½®ä¿¡åº¦
- âœ… **å¤šé˜¶æ®µå·¥ä½œæµ**ï¼šæ”¯æŒæœ¯å‰è¯„ä¼°ã€æœ¯ä¸­æ‰§è¡Œã€æœ¯åç®¡ç†å…¨æµç¨‹
- âœ… **å¤šæ¥å£æ”¯æŒ**ï¼šæä¾› SDKã€REST API å’Œ CLI ä¸‰ç§ä½¿ç”¨æ–¹å¼

## æ ¸å¿ƒæ¶æ„

### æŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»‹å…¥æ‰‹æœ¯æ™ºèƒ½ä½“æ¶æ„                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          LangGraph å·¥ä½œæµç¼–æ’                         â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚ æ„å›¾è¯†åˆ«  â”‚â†’â”‚ çŸ¥è¯†æ£€ç´¢  â”‚â†’â”‚ å†³ç­–ç”Ÿæˆ  â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          LightRAG ä¸‰å±‚å›¾è°±ç³»ç»Ÿ                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚   â”‚
â”‚  â”‚  â”‚ Local    â”‚  â”‚ Global   â”‚  â”‚ Hybrid   â”‚         â”‚   â”‚
â”‚  â”‚  â”‚ æ‚£è€…å›¾è°±  â”‚  â”‚ æ–‡çŒ®å›¾è°±  â”‚  â”‚ è¯å…¸å›¾è°±  â”‚         â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          Neo4j + Milvus å›¾å‘é‡å­˜å‚¨                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | æè¿° | æ–‡ä»¶ä½ç½® |
|------|------|----------|
| **å®ä½“ç±»å‹å®šä¹‰** | å®šä¹‰ä»‹å…¥æ‰‹æœ¯é¢†åŸŸçš„æ‰€æœ‰å®ä½“ç±»å‹ï¼ˆè§£å‰–ã€ç—…ç†ã€å™¨æ¢°ç­‰ï¼‰ | `src/graph/entities.py` |
| **å…³ç³»ç±»å‹å®šä¹‰** | å®šä¹‰å®ä½“ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼ˆé£é™©ã€ç¦å¿Œã€ä½¿ç”¨ç­‰ï¼‰ | `src/graph/relationships.py` |
| **Schema ç®¡ç†å™¨** | ç®¡ç†å›¾è°±çº¦æŸã€ç´¢å¼•å’Œç‰ˆæœ¬è¿ç§» | `src/graph/schema.py` |
| **å·¥ä½œæµèŠ‚ç‚¹** | å®ç° LangGraph çš„å„ä¸ªå†³ç­–èŠ‚ç‚¹ | `src/agents/nodes/interventional.py` |
| **çŠ¶æ€æ¨¡å‹** | å®šä¹‰å·¥ä½œæµçš„çŠ¶æ€å’Œæ•°æ®æµ | `src/agents/states.py` |
| **SDK å®¢æˆ·ç«¯** | æä¾› Python SDK æ¥å£ | `src/sdk/interventional.py` |
| **REST API** | æä¾› HTTP API æ¥å£ | `src/api/routes/interventional.py` |
| **CLI å‘½ä»¤** | æä¾›å‘½ä»¤è¡Œæ¥å£ | `src/cli/interventional.py` |

## ä¸‰å±‚å›¾è°±ç³»ç»Ÿ

è¿™æ˜¯æœ¬æ¨¡å—çš„æ ¸å¿ƒåˆ›æ–°ï¼Œé€šè¿‡ä¸‰ç§ä¸åŒçš„æ£€ç´¢æ¨¡å¼ååŒå·¥ä½œï¼Œæä¾›å…¨é¢ä¸”ç²¾å‡†çš„ä¸´åºŠå†³ç­–æ”¯æŒã€‚

### 1. æ‚£è€…æ•°æ®å›¾è°± (Local æ¨¡å¼)

**ç”¨é€”**ï¼šå­˜å‚¨å’Œæ£€ç´¢å•ä¸ªæ‚£è€…çš„ä¸´åºŠæ•°æ®

**æ•°æ®æ¥æº**ï¼š
- æ‚£è€…åŸºæœ¬ä¿¡æ¯ï¼ˆå¹´é¾„ã€æ€§åˆ«ã€åˆå¹¶ç—‡ï¼‰
- æœ¯å‰æ£€æŸ¥ç»“æœï¼ˆCTAã€å¤šæ™®å‹’è¶…å£°ã€å®éªŒå®¤æ£€æŸ¥ï¼‰
- æ—¢å¾€ç—…å²ï¼ˆTIA/å’ä¸­å²ï¼‰
- ç”¨è¯å²å’Œè¿‡æ•å²

**æ£€ç´¢æ¨¡å¼**ï¼š`local` - ç²¾ç¡®åŒ¹é…æ‚£è€…ç‰¹å®šæ•°æ®

**ç¤ºä¾‹æŸ¥è¯¢**ï¼š
```python
# æŸ¥è¯¢æ‚£è€…ç‰¹å®šçš„é£é™©å› ç´ 
query = "What are this patient's risk factors for CAS?"
result = rag_client.query(query, mode="local")
# è¿”å›ï¼šæ‚£è€…ä¸ªä½“çš„é«˜é¾„ã€é«˜è¡€å‹ã€æ´»åŠ¨æ€§æ–‘å—ç­‰é£é™©å› ç´ 
```

### 2. åŒ»å­¦æ–‡çŒ®å›¾è°± (Global æ¨¡å¼)

**ç”¨é€”**ï¼šå­˜å‚¨å’Œæ£€ç´¢é€šç”¨çš„åŒ»å­¦çŸ¥è¯†å’Œä¸´åºŠæŒ‡å—

**æ•°æ®æ¥æº**ï¼š
- ACC/AHA æŒ‡å—ï¼ˆPCIã€CASã€TAVIï¼‰
- ä¸´åºŠè¯•éªŒç»“æœï¼ˆCRESTã€NASCET ç­‰ï¼‰
- ç³»ç»Ÿè¯„ä»·å’Œ Meta åˆ†æ
- ä¸“å®¶å…±è¯†æ–‡ä»¶

**æ£€ç´¢æ¨¡å¼**ï¼š`global` - å…¨å±€èšåˆåŒ»å­¦çŸ¥è¯†

**ç¤ºä¾‹æŸ¥è¯¢**ï¼š
```python
# æŸ¥è¯¢ CAS çš„æŒ‡å—é€‚åº”ç—‡
query = "What are the guideline indications for CAS?"
result = rag_client.query(query, mode="global")
# è¿”å›ï¼šACC/AHA æŒ‡å—ä¸­çš„é€‚åº”ç—‡ã€æ¨èç­‰çº§å’Œè¯æ®çº§åˆ«
```

### 3. åŒ»å­¦è¯å…¸å›¾è°± (Hybrid æ¨¡å¼)

**ç”¨é€”**ï¼šå­˜å‚¨åŒ»å­¦æœ¯è¯­å®šä¹‰ã€å™¨æ¢°è§„æ ¼å’Œæ ‡å‡†æ“ä½œæµç¨‹

**æ•°æ®æ¥æº**ï¼š
- åŒ»å­¦æœ¯è¯­å®šä¹‰å’Œæ ‡å‡†
- åŒ»ç–—å™¨æ¢°è§„æ ¼å’Œå‚æ•°
- æ ‡å‡†æ“ä½œæµç¨‹
- æµ‹é‡æ–¹æ³•å’Œæ ‡å‡†

**æ£€ç´¢æ¨¡å¼**ï¼š`hybrid` - å¹³è¡¡æ‚£è€…ä¸Šä¸‹æ–‡å’Œé€šç”¨å®šä¹‰

**ç¤ºä¾‹æŸ¥è¯¢**ï¼š
```python
# æŸ¥è¯¢ NASCET æµ‹é‡æ–¹æ³•çš„å®šä¹‰
query = "What is the NASCET method for stenosis measurement?"
result = rag_client.query(query, mode="hybrid")
# è¿”å›ï¼šNASCET æ–¹æ³•å®šä¹‰ã€è®¡ç®—å…¬å¼å’Œä¸´åºŠæ„ä¹‰
```

### ä¸‰å±‚ååŒç¤ºä¾‹

å½“ä¸´åºŠåŒ»ç”Ÿè¯¢é—®"è¿™ä¸ªæ‚£è€…é€‚åˆåš CAS å—ï¼Ÿ"æ—¶ï¼Œç³»ç»Ÿä¼šï¼š

```python
# å¹¶è¡ŒæŸ¥è¯¢ä¸‰ä¸ªå›¾è°±
results = {
    "patient_context": rag_client.query("æ‚£è€…é£é™©å› ç´ å’Œè§£å‰–ç‰¹å¾", mode="local"),
    "guideline_indications": rag_client.query("CAS é€‚åº”ç—‡å’Œç¦å¿Œç—‡", mode="global"),
    "device_specifications": rag_client.query("CAS æ‰€éœ€å™¨æ¢°å’ŒæŠ€æœ¯è¦æ±‚", mode="hybrid")
}

# LLM ç»¼åˆä¸‰å±‚ä¿¡æ¯ç”Ÿæˆå†³ç­–
decision = llm_generate_decision(results)
```

## ä¸»è¦åŠŸèƒ½

### 1. æœ¯å‰è¯„ä¼° (Pre-operative Assessment)

**åŠŸèƒ½**ï¼šè¯„ä¼°æ‚£è€…æ˜¯å¦é€‚åˆä»‹å…¥æ‰‹æœ¯ï¼Œè¯†åˆ«é£é™©å› ç´ ï¼Œåˆ¶å®šæ‰‹æœ¯æ–¹æ¡ˆ

**å·¥ä½œæµç¨‹**ï¼š
```
æ‚£è€…ä¿¡æ¯ â†’ æ„å›¾è¯†åˆ« â†’ U-Retrieval æ£€ç´¢ â†’ é€‚åº”ç—‡è¯„ä¼° â†’ ç¦å¿Œç—‡è¯„ä¼° â†’ é£é™©è¯„ä¼° â†’ æœ¯å¼åŒ¹é… â†’ æ–¹æ¡ˆç»¼åˆ
```

**è¾“å…¥ç¤ºä¾‹**ï¼š
```json
{
  "patient_query": "76å²ç”·æ€§ï¼Œç—‡çŠ¶æ€§é¢ˆåŠ¨è„‰ç‹­çª„85%ï¼Œå·¦ä¾§ICAï¼Œæœ‰TIAç—…å²",
  "procedure_type": "CAS"
}
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```json
{
  "recommendation": "recommended",
  "primary_plan": {
    "procedure": "Carotid Artery Stenting (CAS)",
    "devices": ["FilterWire EZ EPD", "PRECISE PRO RX 7x40mm stent"],
    "steps": ["Femoral access", "EPD deployment", "Pre-dilatation", "Stent deployment", "Post-dilatation"],
    "rationale": "Based on ACC/AHA Class I recommendation for symptomatic >70% stenosis"
  },
  "backup_plan": {
    "condition": "If EPD deployment fails",
    "alternative": "Convert to proximal protection (MO.MA) or abort for CEA"
  },
  "risk_assessment": {
    "overall_risk": "High",
    "key_factors": ["Age >70", "Symptomatic status", "Active plaque"],
    "mitigation": "Universal EPD use, careful technique, BP control"
  },
  "confidence_score": 0.85,
  "sources": [
    {"graph": "literature", "source": "ACC/AHA 2021 Guidelines", "relevance": "Class I indication"},
    {"graph": "patient", "source": "Clinical data", "relevance": "High-risk features"}
  ]
}
```

### 2. æœ¯ä¸­æ”¯æŒ (Intraoperative Support)

**åŠŸèƒ½**ï¼šæä¾›æœ¯ä¸­å†³ç­–æ”¯æŒï¼Œå¤„ç†å¹¶å‘ç—‡å’Œæ„å¤–æƒ…å†µ

**æ”¯æŒåœºæ™¯**ï¼š
- EPD éƒ¨ç½²å¤±è´¥æ—¶çš„åº”æ€¥å¤„ç†
- è¡€ç®¡å¤¹å±‚æˆ–ç©¿å­”çš„å¤„ç†
- è¡€æµåŠ¨åŠ›å­¦å¼‚å¸¸çš„ç®¡ç†
- æ”¯æ¶è´´å£ä¸è‰¯çš„ä¼˜åŒ–

### 3. æœ¯åç®¡ç† (Postoperative Management)

**åŠŸèƒ½**ï¼šç”Ÿæˆæœ¯åæŠ¤ç†è®¡åˆ’ã€ç”¨è¯æ–¹æ¡ˆå’Œéšè®¿è®¡åˆ’

**è¾“å‡ºå†…å®¹**ï¼š
- åŒè”æŠ—è¡€å°æ¿æ²»ç–—æ–¹æ¡ˆ
- è¡€å‹æ§åˆ¶ç›®æ ‡
- å¹¶å‘ç—‡ç›‘æµ‹è®¡åˆ’
- éšè®¿æ—¶é—´è¡¨
- ç”Ÿæ´»æ–¹å¼è°ƒæ•´å»ºè®®

## ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šé—¨è¯Šæœ¯å‰è¯„ä¼°

**è§’è‰²**ï¼šä»‹å…¥å¿ƒè„ç—…åŒ»å¸ˆ

**åœºæ™¯**ï¼š
ä¸€ä½ 76 å²ç”·æ€§æ‚£è€…åœ¨é—¨è¯Šå°±è¯Šï¼ŒCTA æ˜¾ç¤ºå·¦ä¾§é¢ˆå†…åŠ¨è„‰èµ·å§‹éƒ¨ 85% ç‹­çª„ï¼Œæœ‰ 3 æ¬¡ TIA ç—…å²ã€‚åŒ»å¸ˆéœ€è¦è¯„ä¼°æ˜¯å¦é€‚åˆ CAS æ‰‹æœ¯ã€‚

**ä½¿ç”¨æµç¨‹**ï¼š
```python
from src.sdk.interventional import InterventionalClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
client = InterventionalClient()

# æä¾›æ‚£è€…ä¿¡æ¯
assessment = client.assess_preop_risks(
    patient_data={
        "age": 76,
        "gender": "Male",
        "symptoms": "TIA x3, last TIA 2 weeks ago",
        "imaging": {
            "modality": "CTA",
            "findings": "85% stenosis at left ICA origin, ulcerated plaque"
        }
    },
    procedure_type="CAS"
)

# æŸ¥çœ‹ç»“æœ
print(assessment["recommendation"])  # "recommended"
print(assessment["risk_level"])      # "High"
print(assessment["primary_plan"])    # CAS with EPD
```

### åœºæ™¯ 2ï¼šå¤šå­¦ç§‘ä¼šè¯Š (MDT)

**è§’è‰²**ï¼šç¥ç»å†…ç§‘åŒ»å¸ˆ

**åœºæ™¯**ï¼š
åœ¨å¤šå­¦ç§‘ä¼šè¯Šä¸­ï¼Œéœ€è¦å¿«é€Ÿå›é¡¾ CAS çš„è¯æ®æ°´å¹³å’ŒæŒ‡å—æ¨èã€‚

**ä½¿ç”¨æµç¨‹**ï¼š
```python
# è·å–æŒ‡å—è¯æ®
guidelines = client.get_guidelines(procedure_type="CAS")

# æŸ¥è¯¢ç‰¹å®šé—®é¢˜çš„è¯æ®
evidence = guidelines.query("Is CAS indicated for symptomatic 70-99% stenosis?")
print(evidence)
# {
#   "recommendation": "Class I",
#   "evidence_level": "Level A",
#   "supporting_trials": ["CREST", "NASCET", "ECST"],
#   "benefit": "Significant stroke reduction compared to medical therapy"
# }
```

### åœºæ™¯ 3ï¼šå™¨æ¢°é€‰æ‹©

**è§’è‰²**ï¼šä»‹å…¥æ”¾å°„ç§‘åŒ»å¸ˆ

**åœºæ™¯**ï¼š
éœ€è¦ä¸ºç‰¹å®šçš„è§£å‰–ç»“æ„é€‰æ‹©åˆé€‚çš„å™¨æ¢°ã€‚

**ä½¿ç”¨æµç¨‹**ï¼š
```python
# è·å–å™¨æ¢°æ¨è
devices = client.get_device_recommendations(
    procedure="CAS",
    anatomy={
        "vessel": "Left ICA",
        "diameter": "4.8 mm",
        "lesion_length": "15 mm",
        "characteristics": ["Tortuous", "Ulcerated plaque"]
    }
)

print(devices["epd"])     # "FilterWire EZ (4.5mm)"
print(devices["stent"])   # "PRECISE PRO RX 7x40mm (open-cell for tortuosity)"
print(devices["balloon"]) # "Avitar 5x20mm for pre-dilatation"
```

## å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-org/Medical-Graph-RAG.git
cd Medical-Graph-RAG

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # macOS/Linux

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### é…ç½®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config.example.yaml config.yaml

# ç¼–è¾‘é…ç½®ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥å’Œ LLM API
vim config.yaml
```

### å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨ Neo4j å’Œ Milvusï¼ˆä½¿ç”¨ Dockerï¼‰
docker-compose up -d

# åŠ è½½ç¤ºä¾‹æ•°æ®
python scripts/load_interventional_data.py

# å¯åŠ¨ API æœåŠ¡
python -m src.api.main
```

### SDK ä½¿ç”¨

```python
from src.sdk.interventional import InterventionalClient

# åˆ›å»ºå®¢æˆ·ç«¯
client = InterventionalClient()

# æœ¯å‰è¯„ä¼°
result = client.plan_intervention(
    patient_age=76,
    symptoms="TIA",
    stenosis_percentage=85,
    procedure_type="CAS"
)

print(result)
```

### CLI ä½¿ç”¨

```bash
# æœ¯å‰è¯„ä¼°
medgraph interventional plan \
  --patient-age 76 \
  --symptoms "TIA" \
  --stenosis 85 \
  --procedure CAS

# æŸ¥è¯¢æŒ‡å—
medgraph interventional guidelines --procedure CAS

# å™¨æ¢°æ¨è
medgraph interventional devices --procedure CAS --anatomy "tortuous ICA"
```

### API ä½¿ç”¨

```bash
# æœ¯å‰è¯„ä¼°
curl -X POST http://localhost:8000/api/v1/interventional/plan \
  -H "Content-Type: application/json" \
  -d '{
    "patient_age": 76,
    "symptoms": "TIA",
    "stenosis_percentage": 85,
    "procedure_type": "CAS"
  }'
```

## æ¶æ„å›¾

### ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ·æ¥å£å±‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   CLI    â”‚  â”‚   SDK    â”‚  â”‚        REST API                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚       â”‚             â”‚                      â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â†“             â†“                      â†“                     â”‚
â”‚                   ä¸šåŠ¡é€»è¾‘å±‚ (LangGraph)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    InterventionalAgent                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚  â”‚  â”‚ Intent   â”‚  â”‚  U-Ret   â”‚  â”‚ Assess   â”‚  â”‚ Match    â”‚   â”‚ â”‚
â”‚  â”‚  â”‚ Recogn   â”‚â†’ â”‚ rieval   â”‚â†’ â”‚ Decision  â”‚â†’ â”‚ Procedure â”‚   â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚  â”‚                      â†“                                       â”‚ â”‚
â”‚  â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚              â”‚ Assess   â”‚  â”‚ Generate â”‚                     â”‚ â”‚
â”‚  â”‚              â”‚ Risks    â”‚  â”‚ Plan     â”‚                     â”‚ â”‚
â”‚  â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â†“                                    â”‚
â”‚                   çŸ¥è¯†æ£€ç´¢å±‚ (LightRAG)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   CrossGraphRetriever                       â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚ â”‚
â”‚  â”‚    â”‚ Local  â”‚    â”‚ Global â”‚    â”‚ Hybrid â”‚                  â”‚ â”‚
â”‚  â”‚    â”‚  Mode  â”‚    â”‚  Mode  â”‚    â”‚  Mode  â”‚                  â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â†“             â†“             â†“                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                   ä¸‰å±‚çŸ¥è¯†å›¾è°±                              â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚ â”‚
â”‚  â”‚  â”‚   Patient   â”‚  â”‚  Literature â”‚  â”‚ Dictionary  â”‚         â”‚ â”‚
â”‚  â”‚  â”‚   Graph     â”‚  â”‚    Graph    â”‚  â”‚    Graph    â”‚         â”‚ â”‚
â”‚  â”‚  â”‚  (Local)    â”‚  â”‚  (Global)   â”‚  â”‚  (Hybrid)   â”‚         â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚            â†“                 â†“                 â†“                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               å­˜å‚¨å±‚ (Neo4j + Milvus)                        â”‚ â”‚
â”‚  â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚    â”‚   Neo4j    â”‚ â†â”€â”€â”€â”€â”€â”€â†’ â”‚   Milvus   â”‚                 â”‚ â”‚
â”‚  â”‚    â”‚  (Graph)   â”‚  Embed    â”‚  (Vector)  â”‚                 â”‚ â”‚
â”‚  â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å·¥ä½œæµå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æœ¯å‰è¯„ä¼°å·¥ä½œæµ                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ‚£è€…æŸ¥è¯¢
   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ„å›¾è¯†åˆ«èŠ‚ç‚¹  â”‚ â”€â”€â†’ è¯†åˆ«æ‰‹æœ¯ç±»å‹ã€æå–å®ä½“
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ U-Retrieval  â”‚ â”€â”€â†’ Top-down: æ–‡çŒ®å›¾è°±æ£€ç´¢æŒ‡å—
â”‚   èŠ‚ç‚¹       â”‚     Bottom-up: æ‚£è€…å›¾è°±æ£€ç´¢ç—…å²
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     è¯å…¸å›¾è°±æ£€ç´¢å™¨æ¢°è§„æ ¼
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€‚åº”ç—‡è¯„ä¼°   â”‚ â”€â”€â†’ LLM + æŒ‡å—åˆ¤æ–­æ˜¯å¦ç¬¦åˆé€‚åº”ç—‡
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     è¾“å‡º: indicated / not_indicated / uncertain
       â†“
       â”œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   â”‚            â”‚
    [Yes] [No]        [Uncertain]
       â”‚   â”‚            â”‚
       â†“   â†“            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  ç»ˆæ­¢   è¡¥å……ä¿¡æ¯
â”‚ ç¦å¿Œç—‡è¯„ä¼°   â”‚ â”€â”€â†’ LLM + æŒ‡å—æ£€æŸ¥ç¦å¿Œç—‡
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     è¾“å‡º: proceed / modify / abort
       â†“
       â”œâ”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   â”‚        â”‚
  [Proceed] [Modify] [Abort]
       â”‚   â”‚        â”‚
       â†“   â†“        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  è°ƒæ•´   ç»ˆæ­¢
â”‚  é£é™©è¯„ä¼°     â”‚ â”€â”€â†’ LLM + é£é™©å› ç´ åˆ†æ
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     è¾“å‡º: é£é™©ç­‰çº§ + ç¼“è§£æªæ–½
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æœ¯å¼åŒ¹é…     â”‚ â”€â”€â†’ å›¾è°±éå† + LLM æ¨ç†
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     æ²¿å…³ç³»é“¾: æŒ‡å—â†’æœ¯å¼â†’æ­¥éª¤â†’å™¨æ¢°
       â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹æ¡ˆç»¼åˆ     â”‚ â”€â”€â†’ LLM ç”Ÿæˆå®Œæ•´æ–¹æ¡ˆ
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     é¦–é€‰æ–¹æ¡ˆ + å¤‡é€‰æ–¹æ¡ˆ + é£é™©æç¤º
       â†“
    è¾“å‡ºå†³ç­–
```

## ä¸‹ä¸€æ­¥

- ğŸ“– [SDK ä½¿ç”¨æŒ‡å—](sdk_guide.md) - è¯¦ç»†è¯´æ˜å¦‚ä½•ä½¿ç”¨ Python SDK
- ğŸ”Œ [API å‚è€ƒæ–‡æ¡£](api_reference.md) - RESTful API å®Œæ•´å‚è€ƒ
- ğŸ’» [CLI ä½¿ç”¨æŒ‡å—](cli_guide.md) - å‘½ä»¤è¡Œå·¥å…·ä½¿ç”¨è¯´æ˜
- ğŸ¥ [ä¸´åºŠåœºæ™¯ç¤ºä¾‹](clinical_examples.md) - çœŸå®ä¸´åºŠä½¿ç”¨æ¡ˆä¾‹

## æŠ€æœ¯æ”¯æŒ

- **æ–‡æ¡£**: `/docs/interventional/`
- **ç¤ºä¾‹ä»£ç **: `/examples/interventional/`
- **æµ‹è¯•**: `/tests/test_agents/` å’Œ `/tests/test_sdk/`
- **é—®é¢˜åé¦ˆ**: GitHub Issues

## ç‰ˆæœ¬å†å²

- **v1.0.0** (2026-01-11): åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ CASã€PCI å’Œ TAVI æœ¯å‰è¯„ä¼°
- **è·¯çº¿å›¾**:
  - v1.1.0: æœ¯ä¸­æ‰§è¡Œæ”¯æŒ
  - v1.2.0: æœ¯åç®¡ç†ç”Ÿæˆ
  - v2.0.0: ç»“æ„æ€§å¿ƒè„ç—…ä»‹å…¥æ”¯æŒ

## è®¸å¯è¯

MIT License - è¯¦è§ LICENSE æ–‡ä»¶
